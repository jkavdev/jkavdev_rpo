<?xml version="1.0" encoding="UTF-8"?>

<persistence xmlns="http://xmlns.jcp.org/xml/ns/persistence"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd"
	version="2.1">

	<!-- lugar em que o jpa fara a verificacao dos dados sobre a persistencia de dados -->
	
	<!-- name - indica o nome do persistence-unit -->
	<!-- transaction-type - indica por quem a transacao sera controlada -->
		<!-- no caso os valores sao RESOURCE_LOCAL e JTA -->
		<!-- RESOURCE_LOCAL - indica que a transacao sera controlada pela aplicacao -->
		<!-- JTA - indica que a transacao sera controlada pelo servidor -->
	<persistence-unit name="jpaMysqlPU" transaction-type="RESOURCE_LOCAL">
	
		<!-- indica qual implementacao estaremos usando -->
		<!-- no caso eh o hibernate -->
		<provider>org.hibernate.ejb.HibernatePersistence</provider>
		
		<!-- indica quais sao as entidades que sera persistidas -->
		<!-- <class>com.jpaeficaz.modelo.Musica</class> -->		
		
		<!-- podemos fazer tambem o mapeamento das entidades atraves de um arquivo -->
		<!-- <mapping-file>META-INF/ormMysql.xml</mapping-file> -->
		<mapping-file>META-INF/ormMysql.xml</mapping-file>
		
		<!-- indica que as entidades nao mapeadas no persistence nao serao persistidas no banco -->
		<exclude-unlisted-classes>true</exclude-unlisted-classes>
				
		<!-- propriedade de conexao com o banco de dados -->
		<properties>
			<property name="javax.persistence.jdbc.url" value="jdbc:mysql://localhost:3306/db_jpaeficaz" />
			<property name="javax.persistence.jdbc.user" value="root" />
			<property name="javax.persistence.jdbc.password" value="99346554" />
			<property name="javax.persistence.jdbc.driver" value="com.mysql.jdbc.Driver" />

			<!-- validate | update | create | create-drop -->
			<!-- hbm2ddl.auto - indica que o banco sera gerado ou atualizado -->
			<property name="hibernate.hbm2ddl.auto" value="update" />
			<!-- show_sql - indica que o comando sql gerado pelo jpa sera informado nos logs -->
			<property name="hibernate.show_sql" value="true" />
			<!-- format_sql - formatara visualmente os comandos gerados-->
			<property name="hibernate.format_sql" value="true" />
			<!-- indica que o padrao do sql sera o do banco especificado -->
			<property name="hibernate.dialect" value="org.hibernate.dialect.MySQL5InnoDBDialect" />
		</properties>
	</persistence-unit>
	
	<persistence-unit name="jpaPostgresPU" transaction-type="RESOURCE_LOCAL">
	
		<provider>org.hibernate.ejb.HibernatePersistence</provider>
		
		<!-- <mapping-file>META-INF/ormPostgres.xml</mapping-file> -->
		
		<properties>
			<property name="javax.persistence.jdbc.url" value="jdbc:postgresql://localhost/db_jpaeficaz" />
			<property name="javax.persistence.jdbc.user" value="postgres" />
			<property name="javax.persistence.jdbc.password" value="99346554" />
			<property name="javax.persistence.jdbc.driver" value="org.postgresql.Driver" />
			<property name="hibernate.dialect" value="org.hibernate.dialect.PostgreSQLDialect" />

			<property name="hibernate.hbm2ddl.auto" value="update" />
			<property name="hibernate.show_sql" value="true" />
			<property name="hibernate.format_sql" value="true" />
		</properties>
		
	</persistence-unit>
	
	<persistence-unit name="jpaOraclePU" transaction-type="RESOURCE_LOCAL">
		<provider>org.hibernate.ejb.HibernatePersistence</provider>
		<properties>
			<property name="hibernate.connection.driver_class" value="oracle.jdbc.OracleDriver" />
			<property name="hibernate.connection.url" value="jdbc:oracle:thin:@localhost:1521:db_jpaeficaz" />
			<property name="hibernate.connection.username" value="system" />
			<property name="hibernate.connection.password" value="99346554" />
			
			<property name="hibernate.hbm2ddl.auto" value="update" />
			<property name="hibernate.show_sql" value="true" />
			<property name="hibernate.dialect" value="org.hibernate.dialect.OracleDialect" />
		</properties>
	</persistence-unit>

</persistence>